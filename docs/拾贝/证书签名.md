# 数字签名与数字证书

我们可以想象一个数字签名的场景。你在网站获得了一份公钥，文件，和数字签名。你可以将文件进行哈希后得到的 $H_1$，与用公钥对数字签名解密得到的内容 $H_2$ 进行比较，如果两者相同，那么代表的确是使用了对应的私钥对文件进行过数字签名了。但是在这种情境下，不能保证签名者一定是某人，也即我们不知道私钥的拥有着是谁。

![](https://lemonapostlepicgo.oss-cn-hangzhou.aliyuncs.com/img/202302251603882.png)

这就是数字证书要解决的问题。数字证书是一份文件，其将公钥拥有者的个人信息与其对应的公钥绑定。这样一份文件可以被放在互联网上，让别人知道公钥的拥有者是谁。

如何保证证书不被伪造呢？仍然是采用了数字签名的模式。在系统安装的时候，一些权威的可以被信任的认证中心（CA）的公钥即被保存在了电脑之上，以此保证公钥不被修改，也即可以判别出一份数字签名是否由对应的 CA 签出。

reference

<https://www.bilibili.com/video/BV18N411X7ty>

chatgpt:

CA 和 CSR 是 PKI 系统中的两个重要组件，用于实现数字证书的生成和认证。

数字证书一般由以下三个主要组件组成：证书颁发机构（CA）、证书请求（CSR）和数字证书。数字证书一般包含证书所有者的公钥，以及由 CA 数字签名的证书信息，用于证明证书所有者的身份。CSR 则包含证书请求者的公钥和相关信息，用于向 CA 发出数字证书请求。

以下是 CA 和 CSR 的实现过程：

1. 生成 CSR：证书请求者使用密钥对生成 CSR，并指定证书的主题信息，如证书颁发机构（CA）、颁发机构的地址、证书请求者的公钥等信息。
2. 发送 CSR：证书请求者向 CA 发送 CSR，并附带证书请求者的公钥和相关信息。
3. 验证 CSR：CA 验证 CSR 的合法性，并确认证书请求者的身份。
4. 颁发数字证书：如果验证通过，CA 会为证书请求者生成数字证书，将证书所有者的公钥与证书信息一起进行数字签名，并将签名后的数字证书发送给证书请求者。
5. 安装数字证书：证书请求者安装数字证书，将其公钥和私钥保存到安全存储中，并将公钥分发给需要使用它的其他用户。

总的来说，CSR 和 CA 协作的过程如下：证书请求者生成 CSR，CA 验证 CSR 并颁发数字证书，证书请求者安装数字证书，并使用其公钥进行加密和数字签名，以保证通信的安全性和完整性。
